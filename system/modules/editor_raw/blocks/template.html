<script type="text/x-tmpl" id="raweditorTemplate">
    <h3>Zone: {%=o.Zone%}</h3>
    <form action="" method="post">
        <textarea name="{%=o.Zone%}" id="editor-{%=o.Zone%}" style="width: 100%">{%=o.ZoneData%}</textarea>
    </form>
    <button class="btn btn-warning" id="zoneupdate_{%=o.Zone%}">Update Zone</button>&nbsp;&nbsp;&nbsp;
    <div style="display: inline"class="input-prepend input-append">
        <span class="add-on">History</span>
        <select id="editor-raw-history_{%=o.Zone%}"></select>
    </div>
</script>
<script type="text/x-tmpl" id="tmpl-button">
    <button class="btn btn-warning" id="zoneupdate_{%=o.Zone%}">Raw HTML</button>
</script>
<script type="text/javascript">
    var zones = ["z1", "z2", "z3", "z4", "z5", "z6", "z7", "z8", "z9", "z10", "z11", "z12"];
    var zone_content = {
        z1:"", 
        z2:"", 
        z3:"", 
        z4:"", 
        z5:"", 
        z6:"", 
        z7:"", 
        z8:"", 
        z9:"", 
        z10:"", 
        z11:"", 
        z12:""
    };

    $(window).load(function(){
        $("#raw-edit-button").click(function() {
            Temporal.close_editors();
            for (x in zones){
                $('#'+zones[x]).raweditor('toggle', '{pid}');
            }
        });
        /*
        $("#raw-edit-button").change(function() {
            enable_raw_zones();
        });
        */
        for (x in zones){
            if(zone_content[zones[x]] == ''){
                var content = $("#"+zones[x]).html();
                zone_content[zones[x]] = content;
            }
        }
    });
    
</script>
<script src="{root_doc}system/modules/editor_raw/assets/jquery.raweditor.js" type="text/javascript"></script>